<selectmenu class="combobox multiselect">
  <div slot="button">
    <ul class="selected-values" behavior="button">
      <li *ngFor="let option of selected">
        <span class="label">{{ option }}</span>
        <span class="remove" (click)="selectOption(option, $event)"
          ><svg
            viewBox="64 64 896 896"
            focusable="false"
            data-icon="close"
            width="1em"
            height="1em"
            fill="currentColor"
            aria-hidden="true"
          >
            <path
              d="M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"
            ></path>
          </svg>
        </span>
      </li>
    </ul>
  </div>
  <div
    popover=""
    autofocus
    slot="listbox"
    behavior="listbox"
    (popoverhide)="popoverhide($event)"
  >
    <input type="search" autofocus [(ngModel)]="filter" />
    <div class="options" tabindex="-1">
      <option
        *ngFor="let option of filtred"
        [attr.value]="option"
        [attr.selected]="selected.includes(option) ? '' : undefined"
        (click)="selectOption(option, $event)"
        [appHighlight]="filter"
      >
        {{ option }}
      </option>
      <button popoverToggleTarget="popmore" class="openmore">Open more</button>
      <div popover="" id="popmore" class="more-options">
        <option
          *ngFor="let option of filtred"
          [attr.value]="option"
          [attr.selected]="selected.includes(option) ? '' : undefined"
          (click)="selectOption(option, $event)"
          [appHighlight]="filter"
        >
          {{ option }}
        </option>
      </div>
    </div>
  </div>
</selectmenu>
